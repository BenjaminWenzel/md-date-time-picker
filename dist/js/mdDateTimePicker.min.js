!function(a,b){if("function"==typeof define&&define.amd)define(["exports","moment","Draggabilly"],b);else if("undefined"!=typeof exports)b(exports,require("moment"),require("Draggabilly"));else{var c={exports:{}};b(c.exports,a.moment,a.Draggabilly),a.mdDateTimePicker=c.exports}}(this,function(a,b,c){"use strict";function f(a){return a&&a.__esModule?a:{default:a}}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var d=f(b),e=f(c),h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function(){function a(b){var c=b.type,e=b.init,f=void 0===e?(0,d.default)():e,h=b.past,i=void 0===h?(0,d.default)().subtract(21,"years"):h,j=b.future,k=void 0===j?f:j,l=b.mode,m=void 0!==l&&l,n=b.orientation,o=void 0===n?"LANDSCAPE":n,p=b.trigger,q=void 0===p?"":p,r=b.ok,s=void 0===r?"ok":r,t=b.cancel,u=void 0===t?"cancel":t,v=b.colon,w=void 0===v||v,x=b.autoClose,y=void 0!==x&&x,z=b.inner24,A=void 0!==z&&z;g(this,a),this._type=c,this._init=f,this._past=i,this._future=k,this._mode=m,this._orientation=o,this._trigger=q,this._ok=s,this._cancel=u,this._colon=w,this._autoClose=y,this._inner24=A,this._sDialog={},document.getElementById("mddtp-picker__"+this._type)||this._buildDialog()}return h(a,[{key:"hide",value:function(){this._selectDialog(),this._hideDialog()}},{key:"show",value:function(){this._selectDialog(),"date"===this._type?this._initDateDialog(this._init):"time"===this._type&&this._initTimeDialog(this._init),this._showDialog()}},{key:"toggle",value:function(){this._selectDialog(),a.dialog.state?this.hide():this.show()}},{key:"_selectDialog",value:function(){this._sDialog.picker=document.getElementById("mddtp-picker__"+[this._type]);for(var b=["viewHolder","years","header","cancel","ok","left","right","previous","current","next","subtitle","title","titleDay","titleMonth","AM","PM","needle","hourView","minuteView","hour","minute","fakeNeedle","circularHolder","circle","dotSpan"],c=b.length;c--;)this._sDialog[b[c]]=document.getElementById("mddtp-"+this._type+"__"+b[c]);this._sDialog.tDate=this._init.clone(),this._sDialog.sDate=this._init.clone()}},{key:"_showDialog",value:function(){var c=this,d="zoomIn";a.dialog.state=!0,this._sDialog.picker.classList.remove("mddtp-picker--inactive"),this._sDialog.picker.classList.add(d),"PORTRAIT"===this._orientation&&this._sDialog.picker.classList.add("mddtp-picker--portrait"),setTimeout(function(){c._sDialog.picker.classList.remove(d)},300)}},{key:"_hideDialog",value:function(){var c=this,d=this._sDialog.years,e=c._sDialog.title,f=c._sDialog.subtitle,g=this._sDialog.viewHolder,h=this._sDialog.AM,i=this._sDialog.PM,j=this._sDialog.minute,k=this._sDialog.hour,l=this._sDialog.minuteView,m=this._sDialog.hourView,n=this._sDialog.picker,o=this._sDialog.needle,p=this._sDialog.dotSpan,q="mddtp-picker__color--active",r="mddtp-picker--inactive",s="mddtp-picker__years--invisible",t="zoomIn",u="zoomOut",v="mddtp-picker__circularView--hidden",w="mddtp-picker__selection";a.dialog.state=!1,a.dialog.view=!0,this._sDialog.picker.classList.add(u),"date"===this._type?(d.classList.remove(t,u),d.classList.add(s),e.classList.remove(q),f.classList.add(q),g.classList.remove(u)):(h.classList.remove(q),i.classList.remove(q),j.classList.remove(q),k.classList.add(q),l.classList.add(v),m.classList.remove(v),f.setAttribute("style","display: none"),p.setAttribute("style","display: none"),o.className=w),setTimeout(function(){c._sDialog.picker.classList.remove("mddtp-picker--portrait"),c._sDialog.picker.classList.remove(u),c._sDialog.picker.classList.add(r);var a=n.cloneNode(!0);n.parentNode.replaceChild(a,n)},300)}},{key:"_buildDialog",value:function(){var b=this._type,c=document.createDocumentFragment(),e=document.createElement("div"),f=document.createElement("div"),g=document.createElement("div"),h=document.createElement("div"),i=document.createElement("button"),j=document.createElement("button");if(e.id="mddtp-picker__"+b,e.classList.add("mddtp-picker"),e.classList.add("mddtp-picker-"+b),e.classList.add("mddtp-picker--inactive"),e.classList.add("animated"),this._addId(f,"header"),this._addClass(f,"header"),e.appendChild(f),this._addClass(g,"body"),g.appendChild(h),e.appendChild(g),"date"===this._type){var k=document.createElement("div"),l=document.createElement("div"),m=document.createElement("div"),n=document.createElement("div"),o=document.createElement("div"),p=document.createElement("ul"),q=document.createElement("li"),r=document.createElement("li"),s=document.createElement("li"),t=document.createElement("button"),u=document.createElement("button"),v=document.createElement("ul");this._addId(k,"subtitle"),this._addClass(k,"subtitle"),this._addId(l,"title"),this._addClass(l,"title",["mddtp-picker__color--active"]),this._addId(m,"titleDay"),this._addId(n,"titleMonth"),l.appendChild(m),l.appendChild(n),f.appendChild(k),f.appendChild(l),this._addId(o,"viewHolder"),this._addClass(o,"viewHolder",["animated"]),this._addClass(p,"views"),this._addId(q,"previous"),q.classList.add("mddtp-picker__view"),this._addId(r,"current"),r.classList.add("mddtp-picker__view"),this._addId(s,"next"),s.classList.add("mddtp-picker__view"),this._addView(q),this._addView(r),this._addView(s),o.appendChild(p),p.appendChild(q),p.appendChild(r),p.appendChild(s),this._addId(t,"left"),t.classList.add("mddtp-button"),this._addClass(t,"left"),t.setAttribute("type","button"),this._addId(u,"right"),u.classList.add("mddtp-button"),this._addClass(u,"right"),u.setAttribute("type","button"),this._addId(v,"years"),this._addClass(v,"years",["mddtp-picker__years--invisible","animated"]),g.appendChild(o),g.appendChild(t),g.appendChild(u),g.appendChild(v)}else{var w=document.createElement("div"),x=document.createElement("span"),y=document.createElement("span"),z=document.createElement("span"),A=document.createElement("div"),B=document.createElement("div"),C=document.createElement("div"),D=document.createElement("div"),E=document.createElement("div"),F=document.createElement("span"),G=document.createElement("span"),H=document.createElement("span"),I=document.createElement("div"),J=document.createElement("div"),K=document.createElement("div");this._addId(w,"title"),this._addClass(w,"title"),this._addId(x,"hour"),x.classList.add("mddtp-picker__color--active"),y.textContent=":",this._addId(y,"dotSpan"),y.setAttribute("style","display: none"),this._addId(z,"minute"),this._addId(A,"subtitle"),this._addClass(A,"subtitle"),A.setAttribute("style","display: none"),this._addId(B,"AM"),B.textContent=d.default.langData()._meridiemParse.toString().replace(/\//g,"").split("|")[0],this._addId(C,"PM"),C.textContent=d.default.langData()._meridiemParse.toString().replace(/\//g,"").split("|")[1],w.appendChild(x),w.appendChild(y),w.appendChild(z),A.appendChild(B),A.appendChild(C),f.appendChild(w),f.appendChild(A),this._addId(D,"circularHolder"),this._addClass(D,"circularHolder"),this._addId(E,"needle"),E.classList.add("mddtp-picker__selection"),this._addClass(F,"dot"),this._addClass(G,"line"),this._addId(H,"circle"),this._addClass(H,"circle"),this._addId(I,"minuteView"),I.classList.add("mddtp-picker__circularView"),I.classList.add("mddtp-picker__circularView--hidden"),this._addId(J,"fakeNeedle"),J.classList.add("mddtp-picker__circle--fake"),this._addId(K,"hourView"),K.classList.add("mddtp-picker__circularView"),E.appendChild(F),E.appendChild(G),E.appendChild(H),D.appendChild(E),D.appendChild(I),D.appendChild(J),D.appendChild(K),g.appendChild(D)}h.classList.add("mddtp-picker__action"),this._autoClose===!0&&(h.style.display="none"),this._addId(i,"cancel"),i.classList.add("mddtp-button"),i.setAttribute("type","button"),this._addId(j,"ok"),j.classList.add("mddtp-button"),j.setAttribute("type","button"),h.appendChild(i),h.appendChild(j),g.appendChild(h),c.appendChild(e),document.getElementsByTagName("body").item(0).appendChild(c)}},{key:"_initTimeDialog",value:function(b){var c=this._sDialog.hour,d=this._sDialog.minute,e=this._sDialog.subtitle,f=this._sDialog.dotSpan;if(this._mode){var g=parseInt(b.format("H"),10);0===g&&(g="00"),this._fillText(c,g),this._colon&&f.removeAttribute("style")}else this._fillText(c,b.format("h")),b._locale.isPM(b.format("A"))?this._sDialog.PM.classList.add("mddtp-picker__color--active"):this._sDialog.AM.classList.add("mddtp-picker__color--active"),e.removeAttribute("style"),f.removeAttribute("style");this._fillText(d,b.format("mm")),this._initHour(),this._initMinute(),this._attachEventHandlers(),this._changeM(),this._dragDial(),this._switchToView(c),this._switchToView(d),this._addClockEvent(),this._setButtonText()}},{key:"_initHour",value:function(){var b=this._sDialog.hourView,c=this._sDialog.needle,d="mddtp-hour__selected",e="mddtp-picker__cell--selected",f="mddtp-picker__cell--rotate-",g="mddtp-picker__cell--rotate24",h="mddtp-picker__cell",i=document.createDocumentFragment(),j=void 0;if(this._mode){var k=this._inner24===!0?10:5;j=parseInt(this._sDialog.tDate.format("H"),10);for(var l=1,m=k;l<=24;l++,m+=k){var n=document.createElement("div"),o=document.createElement("span");n.classList.add(h),24===l?o.textContent="00":o.textContent=l;var p=m;this._inner24===!0&&l>12&&(p-=120,n.classList.add(g)),n.classList.add(f+p),j===l&&(n.id=d,n.classList.add(e),c.classList.add(f+p)),24===l&&0===j&&(n.id=d,n.classList.add(e),c.classList.add(f+p)),n.appendChild(o),i.appendChild(n)}}else{j=parseInt(this._sDialog.tDate.format("h"),10);for(var q=1,r=10;q<=12;q++,r+=10){var s=document.createElement("div"),t=document.createElement("span");s.classList.add(h),t.textContent=q,s.classList.add(f+r),j===q&&(s.id=d,s.classList.add(e),c.classList.add(f+r)),s.appendChild(t),i.appendChild(s)}}for(;b.lastChild;)b.removeChild(b.lastChild);b.appendChild(i)}},{key:"_initMinute",value:function(){for(var b=this._sDialog.minuteView,c=parseInt(this._sDialog.tDate.format("m"),10),d="mddtp-minute__selected",e="mddtp-picker__cell--selected",f="mddtp-picker__cell--rotate-",g="mddtp-picker__cell",h=document.createDocumentFragment(),i=5,j=10;i<=60;i+=5,j+=10){var k=document.createElement("div"),l=document.createElement("span");k.classList.add(g),60===i?l.textContent=this._numWithZero(0):l.textContent=this._numWithZero(i),0===c&&(c=60),k.classList.add(f+j),(c===i||c-1===i||c+1===i||1===c&&60===i)&&(k.id=d,k.classList.add(e)),k.appendChild(l),h.appendChild(k)}for(;b.lastChild;)b.removeChild(b.lastChild);b.appendChild(h)}},{key:"_initDateDialog",value:function(b){var c=this._sDialog.subtitle,d=this._sDialog.title,e=this._sDialog.titleDay,f=this._sDialog.titleMonth;this._fillText(c,b.format("YYYY")),this._fillText(e,b.format("ddd, ")),this._fillText(f,b.format("MMM D")),this._initYear(),this._initViewHolder(),this._attachEventHandlers(),this._changeMonth(),this._switchToView(c),this._switchToView(d),this._setButtonText()}},{key:"_initViewHolder",value:function(){var b=this._sDialog.tDate,c=this._sDialog.current,e=this._sDialog.previous,f=this._sDialog.next,g=this._past,h=this._future;b.isBefore(g,"month")&&(b=g.clone()),b.isAfter(h,"month")&&(b=h.clone()),this._sDialog.tDate=b,this._initMonth(c,b),this._initMonth(f,(0,d.default)(this._getMonth(b,1))),this._initMonth(e,(0,d.default)(this._getMonth(b,-1))),this._toMoveMonth()}},{key:"_initMonth",value:function(b,c){var e=c.format("MMMM YYYY"),f=b.getElementsByTagName("div");this._fillText(f[0],e);var g=document.createDocumentFragment(),h=f[3],i=d.default.weekdays(!0).indexOf(d.default.weekdays(!1,(0,d.default)(c).date(1).day())),j=-1,k=-1,l=parseInt((0,d.default)(c).endOf("month").format("D"),10)+i-1,m=i,n="mddtp-picker__cell",o=l;(0,d.default)().isSame(c,"month")&&(j=parseInt((0,d.default)().format("D"),10),j+=i-1),this._past.isSame(c,"month")&&(m=parseInt(this._past.format("D"),10),m+=i-1),this._future.isSame(c,"month")&&(o=parseInt(this._future.format("D"),10),o+=i-1),this._sDialog.sDate.isSame(c,"month")&&(k=parseInt((0,d.default)(c).format("D"),10),k+=i-1);for(var p=0;p<42;p++){var q=document.createElement("span"),r=p-i+1;p>=i&&p<=l&&(p>o||p<m?q.classList.add(n+"--disabled"):q.classList.add(n),this._fillText(q,r)),j===p&&q.classList.add(n+"--today"),k===p&&(q.classList.add(n+"--selected"),q.id="mddtp-date__selected"),g.appendChild(q)}for(;h.lastChild;)h.removeChild(h.lastChild);h.appendChild(g),this._addCellClickEvent(h)}},{key:"_initYear",value:function(){for(var b=this._sDialog.years,c=this._sDialog.tDate.year(),d=document.createDocumentFragment(),e=this._past.year(),f=this._future.year(),g=e;g<=f;g++){var h=document.createElement("li");h.textContent=g,g===c&&(h.id="mddtp-date__currentYear",h.classList.add("mddtp-picker__li--current")),d.appendChild(h)}for(;b.lastChild;)b.removeChild(b.lastChild);b.appendChild(d),this._changeYear(b)}},{key:"_switchToView",value:function(b){var c=this;"date"==this._type?b.onclick=function(){c._switchToDateView(b,c)}:(this._inner24===!0&&c._mode&&(parseInt(c._sDialog.sDate.format("H"),10)>12?c._sDialog.needle.classList.add("mddtp-picker__cell--rotate24"):c._sDialog.needle.classList.remove("mddtp-picker__cell--rotate24")),b.onclick=function(){c._switchToTimeView(c)})}},{key:"_switchToTimeView",value:function(c){var d=c._sDialog.hourView,e=c._sDialog.minuteView,f=c._sDialog.hour,g=c._sDialog.minute,h="mddtp-picker__color--active",i="mddtp-picker__circularView--hidden",j="mddtp-picker__selection",k=c._sDialog.needle,l=c._sDialog.circularHolder,m=c._sDialog.circle,n=c._sDialog.fakeNeedle,o=60,p=void 0;d.classList.toggle(i),e.classList.toggle(i),f.classList.toggle(h),g.classList.toggle(h),k.className="",k.classList.add(j),a.dialog.view?(p=c._sDialog.sDate.format("m"),c._autoClose!==!0&&setTimeout(function(){var a=l.getBoundingClientRect(),b=m.getBoundingClientRect();n.setAttribute("style","left:"+(b.left-a.left)+"px;top:"+(b.top-a.top)+"px")},300)):c._mode?(o=24,p=parseInt(c._sDialog.sDate.format("H"),10),0===p&&(p=24)):(o=12,p=c._sDialog.sDate.format("h"));var q=c._calcRotation(o,parseInt(p,10));q&&k.classList.add(q),a.dialog.view=!a.dialog.view}},{key:"_switchToDateView",value:function(c,d){c.setAttribute("disabled","");var e=d._sDialog.viewHolder,f=d._sDialog.years,g=d._sDialog.title,h=d._sDialog.subtitle,i=document.getElementById("mddtp-date__currentYear");a.dialog.view?(e.classList.add("zoomOut"),f.classList.remove("mddtp-picker__years--invisible"),f.classList.add("zoomIn"),i.scrollIntoViewIfNeeded()):(f.classList.add("zoomOut"),e.classList.remove("zoomOut"),e.classList.add("zoomIn"),setTimeout(function(){f.classList.remove("zoomIn","zoomOut"),f.classList.add("mddtp-picker__years--invisible"),e.classList.remove("zoomIn")},300)),g.classList.toggle("mddtp-picker__color--active"),h.classList.toggle("mddtp-picker__color--active"),a.dialog.view=!a.dialog.view,setTimeout(function(){c.removeAttribute("disabled")},300)}},{key:"_addClockEvent",value:function(){var b=this,c=this._sDialog.hourView,d=this._sDialog.minuteView,e="mddtp-picker__cell--selected";c.onclick=function(a){var c="mddtp-hour__selected",d=document.getElementById(c),f=0;a.target&&"SPAN"==a.target.nodeName&&(d.id="",d.classList.remove(e),a.target.parentNode.classList.add(e),a.target.parentNode.id=c,f=b._mode?parseInt(a.target.textContent,10):"AM"===b._sDialog.sDate.format("A")?a.target.textContent:parseInt(a.target.textContent,10)+12,b._sDialog.sDate.hour(f),b._sDialog.hour.textContent=a.target.textContent,b._switchToTimeView(b))},d.onclick=function(a){var c="mddtp-minute__selected",d=document.getElementById(c),f=0;a.target&&"SPAN"==a.target.nodeName&&(d&&(d.id="",d.classList.remove(e)),a.target.parentNode.classList.add(e),a.target.parentNode.id=c,f=a.target.textContent,b._sDialog.sDate.minute(f),b._sDialog.minute.textContent=f,b._switchToTimeView(b),b._autoClose===!0&&b._sDialog.ok.onclick())}}},{key:"_addCellClickEvent",value:function(b){var c=this;b.onclick=function(a){if(a.target&&"SPAN"==a.target.nodeName&&a.target.classList.contains("mddtp-picker__cell")){var b=a.target.textContent,d=c._sDialog.tDate.date(b),e="mddtp-date__selected",f="mddtp-picker__cell--selected",g=document.getElementById(e),h=c._sDialog.subtitle,i=c._sDialog.titleDay,j=c._sDialog.titleMonth;g&&(g.classList.remove(f),g.id=""),a.target.classList.add(f),a.target.id=e,c._sDialog.sDate=d.clone(),c._fillText(h,d.year()),c._fillText(i,d.format("ddd, ")),c._fillText(j,d.format("MMM D")),c._autoClose===!0&&c._sDialog.ok.onclick()}}}},{key:"_toMoveMonth",value:function(){var b=this._sDialog.tDate,c=this._sDialog.left,d=this._sDialog.right,e=this._past,f=this._future;c.removeAttribute("disabled"),d.removeAttribute("disabled"),c.classList.remove("mddtp-button--disabled"),d.classList.remove("mddtp-button--disabled"),b.isSame(e,"month")&&(c.setAttribute("disabled",""),c.classList.add("mddtp-button--disabled")),b.isSame(f,"month")&&(d.setAttribute("disabled",""),d.classList.add("mddtp-button--disabled"))}},{key:"_changeMonth",value:function(){function h(a,e){var f=!1,h=b._sDialog.next,i=b._sDialog.current,j=b._sDialog.previous;c.setAttribute("disabled",""),d.setAttribute("disabled",""),i.classList.add(a),j.classList.add(a),h.classList.add(a);var k=e.cloneNode(!0),l=void 0;e===h?(l=j,i.parentNode.appendChild(k),h.id=i.id,i.id=j.id,j=i,i=h,h=k):(f=!0,l=h,j.id=i.id,i.id=h.id,h=i,i=j),setTimeout(function(){e===j&&(i.parentNode.insertBefore(k,i),j=k),b._sDialog.next=h,b._sDialog.current=i,b._sDialog.previous=j,i.classList.add(g),h.classList.add(g),j.classList.add(g),i.classList.remove(a),h.classList.remove(a),j.classList.remove(a),l.parentNode.removeChild(l)},300),setTimeout(function(){i.classList.remove(g),h.classList.remove(g),j.classList.remove(g),f?b._sDialog.tDate=b._getMonth(b._sDialog.tDate,-1):b._sDialog.tDate=b._getMonth(b._sDialog.tDate,1),b._initViewHolder()},350),setTimeout(function(){c.classList.contains("mddtp-button--disabled")||c.removeAttribute("disabled"),d.classList.contains("mddtp-button--disabled")||d.removeAttribute("disabled")},400)}var b=this,c=this._sDialog.left,d=this._sDialog.right,e="mddtp-picker__view--left",f="mddtp-picker__view--right",g="mddtp-picker__view--pause";c.onclick=function(){h(f,b._sDialog.previous)},d.onclick=function(){h(e,b._sDialog.next)}}},{key:"_changeYear",value:function(b){var c=this;b.onclick=function(a){if(a.target&&"LI"==a.target.nodeName){var d=document.getElementById("mddtp-date__currentYear");d.id="",d.classList.remove("mddtp-picker__li--current"),a.target.id="mddtp-date__currentYear",a.target.classList.add("mddtp-picker__li--current"),c._switchToDateView(b,c),c._sDialog.tDate.year(parseInt(a.target.textContent,10)),c._initViewHolder()}}}},{key:"_changeM",value:function(){var b=this,c=this._sDialog.AM,d=this._sDialog.PM;c.onclick=function(a){var e="AM";b._sDialog.sDate._locale.isPM(b._sDialog.sDate.format("A"))&&(e="PM"),"PM"===e&&(b._sDialog.sDate.subtract(12,"h"),c.classList.toggle("mddtp-picker__color--active"),d.classList.toggle("mddtp-picker__color--active"))},d.onclick=function(a){var e="AM";b._sDialog.sDate._locale.isPM(b._sDialog.sDate.format("A"))&&(e="PM"),"AM"===e&&(b._sDialog.sDate.add(12,"h"),c.classList.toggle("mddtp-picker__color--active"),d.classList.toggle("mddtp-picker__color--active"))}}},{key:"_dragDial",value:function(){var b=this,c=this._sDialog.needle,d=this._sDialog.circle,f=this._sDialog.fakeNeedle,g=this._sDialog.circularHolder,h=this._sDialog.minute,i="mddtp-picker__selection--quick",j="mddtp-picker__selection",k="mddtp-picker__cell--selected",l="mddtp-picker__cell--rotate-",m=g.getBoundingClientRect(),n=void 0,o=new e.default(f,{containment:!0});o.on("pointerDown",function(a){m=g.getBoundingClientRect()}),o.on("pointerMove",function(a){var b=a.clientX,d=a.clientY;void 0===b&&(void 0===a.pageX?a.touches&&a.touches.length>0?(b=a.touches[0].clientX,d=a.touches[0].clientY):console.error("coult not detect pageX, pageY"):(b=pageX-document.body.scrollLeft-document.documentElement.scrollLeft,d=pageY-document.body.scrollTop-document.documentElement.scrollTop));var e=b-m.left-m.width/2,f=d-m.top-m.height/2,g=Math.atan2(-f,e);c.className="",g<0&&(g+=2*Math.PI),g*=180/Math.PI,g=360-g,g>270&&(g-=360),n=parseInt(g/6);var h=Math.abs(6*n-g),k=Math.abs(6*(n+1)-g);k<h&&n++,n+=15,c.classList.add(j),c.classList.add(i),c.classList.add(l+2*n)}),o.on("pointerUp",function(a){var e=b._sDialog.minuteView.getElementsByTagName("div"),g="mddtp-minute__selected",j=document.getElementById(g),l=d.getBoundingClientRect();f.setAttribute("style","left:"+(l.left-m.left)+"px;top:"+(l.top-m.top)+"px"),c.classList.remove(i);var o=n;1===o&&(o=60),o=b._nearestDivisor(o,5),60===n&&(n=0),j&&(j.id="",j.classList.remove(k)),o>0&&(o/=5,o--,e[o].id=g,e[o].classList.add(k)),h.textContent=b._numWithZero(n),b._sDialog.sDate.minutes(n)})}},{key:"_attachEventHandlers",value:function(){var b=this,c=this._sDialog.ok,d=this._sDialog.cancel,e=new CustomEvent("onCancel"),f=new CustomEvent("onOk");d.onclick=function(){b.toggle(),b._trigger&&b._trigger.dispatchEvent(e)},c.onclick=function(){b._init=b._sDialog.sDate,b.toggle(),b._trigger&&b._trigger.dispatchEvent(f)}}},{key:"_setButtonText",value:function(){this._sDialog.cancel.textContent=this._cancel,this._sDialog.ok.textContent=this._ok}},{key:"_getMonth",value:function(b,c){var d=void 0;return d=b.clone(),c>0?d.add(Math.abs(c),"M"):d.subtract(Math.abs(c),"M")}},{key:"_nearestDivisor",value:function(b,c){return b%c===0?b:(b-1)%c===0?b-1:(b+1)%c===0?b+1:-1}},{key:"_numWithZero",value:function(b){return b>9?""+b:"0"+b}},{key:"_fillText",value:function(b,c){b.firstChild?b.firstChild.nodeValue=c:b.appendChild(document.createTextNode(c))}},{key:"_addId",value:function(b,c){b.id="mddtp-"+this._type+"__"+c}},{key:"_addClass",value:function(b,c,d){b.classList.add("mddtp-picker__"+c);var e=0;for(d&&(e=d.length,d.reverse());e--;)b.classList.add(d[e])}},{key:"_addView",value:function(b){for(var c=document.createElement("div"),e=document.createElement("div"),f=document.createElement("div"),g=document.createElement("div"),h=d.default.weekdaysMin(!0).reverse(),i=7;i--;){var j=document.createElement("span");j.textContent=h[i],f.appendChild(j)}this._addClass(c,"month"),this._addClass(e,"grid"),this._addClass(f,"th"),this._addClass(g,"tr"),b.appendChild(c),b.appendChild(e),e.appendChild(f),e.appendChild(g)}},{key:"_calcRotation",value:function(b,c){return c*=12===b?10:24===b?5:2,60===b&&0===c&&(c=120),"mddtp-picker__cell--rotate-"+c}},{key:"time",get:function(){return this._init},set:function(b){b&&(this._init=b)}},{key:"trigger",get:function(){return this._trigger},set:function(b){b&&(this._trigger=b)}}],[{key:"dialog",get:function(){return a._dialog},set:function(c){a.dialog=c}}]),a}();i._dialog={view:!0,state:!1},a.default=i});